!function(){function a(a,b){if("string"==typeof a&&(a=parseFloat(a)),"number"!=typeof a||isNaN(a))return null;for(var c=b?"star-display--dark":"",d=Math.floor(a),e=a-d>.49,f=e?4:5,g=d<f?f-d:0,h="",i=0;i<d;i++)h+='<span class="star-display__filled '+c+'"></span>';for(var j=e?'<span class="star-display__half '+c+'"></span>':"",k="",l=0;l<g;l++)k+='<span class="star-display__empty"></span>';return'<span class="star-display">'+h+j+k+"</span>"}function b(a){return"string"!=typeof a&&"number"!=typeof a?"":String(a).replace(c.FORMAT_NUMBER,"$1,")}var c={FORMAT_NUMBER:/(.)(?=(\d{3})+$)/g};!function(){nunjucks=new nunjucks.Environment,nunjucks.addFilter("toRatingsStars",a),nunjucks.addFilter("format",b)}()}(),function(){function a(a){if(a){var b="; "+document.cookie,c=b.split("; "+a+"=");return 2===c.length?c.pop().split(";").shift():void 0}}function b(a,b,c){if(a){var d,e="";c&&(d=new Date,d.setTime(d.getTime()+24*c*60*60*1e3),e="; expires="+d.toUTCString()),document.cookie=a+"="+(b||"")+e+"; path=/"}}function c(a){a&&(document.cookie=a+"=; path=/; Max-Age=-99999999;")}RottenTomatoes.cookie={deleteCookie:c,getCookie:a,setCookie:b}}(),function(){function a(a,b){if(null===b||void 0===b)return"";var c=b.toString();return a?(a.lowercase&&(c=c.toLowerCase()),a.encode&&(c=encodeURIComponent(c)),a.strip&&(c=c.replace(f.UNSAFE_CHARS,"")),void 0!==a.replaceSpaces&&"string"!=typeof a.replaceSpaces||(c=c.replace(f.SPACE,a.replaceSpaces||"-")),c):c}function b(a){if(!RottenTomatoes.sanitizer.isPlainObject(a))return"";var b=[];for(var c in a)hasOwnProperty.call(a,c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.length?b.join("&"):""}function c(a,c){if("string"!=typeof a)return a;var d=b(c);return d?a+(a.indexOf("?")<0?"?":"&")+d:a}function d(b,d,e){var f=i[b];if(!f||!f.tokens)return"";if(!d)return c(f.path||"",e);var g="";return f.tokens.forEach(function(b){if(b.literal)return void(g+=b.literal||"");var c=d[b.key];g+=void 0===c||null===c?":"+b.key:a(c,RottenTomatoes.sanitizer.isPlainObject(c)?c.value:c)||":"+b.key}),g=c(g,e)}function e(a,b){if(i[b])throw new Error(g.DUPLICATE_ROUTE.replace("%s",b));i[b]={path:a.path,tokens:a.tokens||a.pathTokens},h[b]=function(a,c){return d(b,a,c)}}var f={SPACE:/\s/g,UNSAFE_CHARS:/[^a-z0-9\s]/gi,COLON_EXCEPTION:/:/g},g={DUPLICATE_ROUTE:'Route with name "%s" exists'},h={},i={};RottenTomatoes.link=function(a){for(var b in a)e(a[b],b);return h}(RottenTomatoes.context._routes||{})}(),function(){function a(a,b){if(arguments.length<2&&(b=""),null===a)return b;if(!isNaN(a))return parseInt(a);if(!a)return b;var c=(""+a).replace(i.NOT_NUM,"");return!c||isNaN(c)?b:parseInt(c)}function b(a){return"string"!=typeof a&&"number"!=typeof a?"":(""+a).replace(i.NOT_ALLOWED,"")}function c(a){return b(a).replace(i.NOT_ID,"")}function d(a,b){if("number"==typeof a)return a;if(arguments.length<2&&(b=""),a=""+a,!i.NUMBER.test(a))return b;var c=a.match(i.NUMBER);return parseFloat(c[1])}function e(a){return i.BOOL_TRUE.test(""+a)}function f(a){return"string"==typeof a&&a?a.replace(i.URL_DISALLOWED,""):""}function g(a){return(""+a).replace(i.HTML_NO_SCRIPT,"")}function h(a){if(!a||"object"!=typeof a||null===a)return!1;for(var b=a;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}var i={BOOL_TRUE:/^\s*(?:yes|true|1|ok|on)\s*$/i,HTML_NO_SCRIPT:/(<|&lt;)\s*(s|&#(115|83|53|73);)\s*c\s*r\s*i\s*p\s*t\s/gi,NOT_NUM:/\D/g,NOT_ALLOWED:/[^\w\s-&.,+()!@?'"\/=%:]/g,NOT_ID:/[^a-z0-9]/gi,NUMBER:/(\d+(?:\.\d+)?)/,URL_DISALLOWED:/[^a-z0-9:\/_\-#=&?.,+%]/gi};RottenTomatoes.sanitizer={isPlainObject:h,boolean:e,html:g,id:c,integer:a,number:d,text:b,url:f}}(),function(a){function b(a){return Object.assign(a||{},{_token:j,_expiry:i})}function c(c){if(!RottenTomatoes.sanitizer.isPlainObject(c))throw new Error(l.INVALID_OBJECT);var d=""+(c.method||c.type||"");if(!d)throw new Error(l.INVALID_METHOD);if(d=d.toUpperCase(),void 0===c.data||null===c.data)c.data={};else if(!RottenTomatoes.sanitizer.isPlainObject(c.data))throw new Error(l.INVALID_DATA_ATTRIBUTE);return m.includes(d)||b(c.data),a.ajax(c)}function d(){return a.get.apply(this,arguments)}function e(c,d){if(!RottenTomatoes.sanitizer.isPlainObject(d))throw new Error(l.INVALID_DATA_ATTRIBUTE);return b(d),a.post.apply(this,arguments)}function f(){i=void 0,j=void 0}function g(){var b=Date.now();a.post(RottenTomatoes.link.napiAccountThemePreferences(),{_expiry:b}).done(function(a){a&&a._token&&(j=a._token,i=b)})}function h(){var a=RottenTomatoes.cookie.getCookie(k.CSRF_TOKEN),b=RottenTomatoes.cookie.getCookie(k.CSRF_EXPIRY);a&&b?(i=b,j=a):g()}var i,j,k={CSRF_TOKEN:"color-palette",CSRF_EXPIRY:"theme-options"},l={INVALID_OBJECT:"RottenTomatoes.xhr: invalid settings object",INVALID_METHOD:"RottenTomatoes.xhr: missing or invalid method",INVALID_DATA_ATTRIBUTE:"RottenTomatoes.xhr: invalid data attribute"},m=["GET","HEAD","OPTIONS"];h(),RottenTomatoes.xhr={__testable__:{reset:f,init:h},ajax:c,get:d,post:e}}(jQuery),function(){function a(a,b){function c(){a.installing.addEventListener("statechange",function(a){if("installed"===a.target.state)return b()})}return a.waiting?b():a.installing?c():void a.addEventListener("updatefound",c)}function b(a){}function c(b){navigator.serviceWorker.controller&&(RottenTomatoes.serviceWorker.preCachingPageUrls&&b.active.postMessage(JSON.stringify(RottenTomatoes.serviceWorker.preCachingPageUrls)),a(b,function(){b.waiting.postMessage("skipWaiting")}))}function d(){navigator.serviceWorker.register(e,f).then(c).catch(b)}var e="/service-worker/sw.js",f={scope:"/"};$('[data-toggle="tooltip"]').tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),RottenTomatoes.serviceWorker.isServiceWokerOn&&window.navigator&&window.navigator.serviceWorker&&window.addEventListener("load",d),window.BK&&(window.BK.FlixsterUID=RottenTomatoes.cookie.getCookie("auth_user")||"")}(),function(){function a(a,b){if("string"!=typeof a)throw"RottenTomatoes.eventQ.register requires an eventName string";if("function"!=typeof b)throw"RottenTomatoes.eventQ.register requires an eventHandler function";e.hasOwnProperty.call(e,a)||(e[a]=[]);var c=e[a].push(b)-1;return{remove:function(){delete e[a][c]}}}function b(a,b){e.hasOwnProperty.call(e,a)&&e[a].forEach(function(a){a(b)})}function c(){e={}}function d(){return e}var e={};RottenTomatoes.eventQ={__test__:{resetQueue:c,getQueue:d},register:a,emit:b}}(),function(a){function b(a,b){z[a]=b}function c(a){return z[a]||!1}function d(){r.value&&0!==r.value.length&&(r.innerHTML=""),0!==a(y.searchLoading).length&&a(y.searchViewAll).css("display","none")}function e(a){var b=a.movies||[],c=a.tvSeries||[],d=a.actors||[],e=a.franchises||[],f=a.critics||[];return[{title:"Franchises",type:"franchises",data:e.map(function(a){return{type:"franchise",title:a.title,url:window.location.origin+a.url,line1:a.title,image:a.image}})},{title:"Movies",type:"movies",data:b.map(function(a){return{type:"movie",title:a.name,url:window.location.origin+a.url,line1:a.name,line2:a.subline&&", "===a.subline.substr(-2)?a.subline.slice(0,-2):"",yearLine:a.year?"("+a.year+")":"",image:a.image}})},{title:"TV Series",type:"tvSeries",data:c.map(function(a){return{type:"tv",title:a.title,url:window.location.origin+a.url,line1:a.title,line2:a.subline,yearLine:a.startYear?"("+a.startYear+"-"+(a.endYear||" ")+")":"",image:a.image}})},{title:"Celebrities",type:"actors",data:d.map(function(a){return{type:"celebrity",title:a.name,url:window.location.origin+a.url,line1:a.name,image:a.image}})},{title:"Top Movies Now",type:"critics",data:f.map(function(a){return{type:"critics",title:a.name,url:window.location.origin+a.url,line1:a.name,image:a.image}})}]}function f(b){a(y.searchViewAll).attr("href",RottenTomatoes.link.webSearchResults()+"?search="+encodeURIComponent(b))}function g(a){if(a)return a.every(function(a){return 0===a.data.length})}function h(b,c){var d=g(c),e=nunjucks.render("_fullscreenSearchResults",{results:c,source:"search",status:c&&d?"no_results":b});r.innerHTML=e,f(a(y.desktopSearchTerm).val()?a(y.desktopSearchTerm).val():a(y.mobileSearchTerm).val()),"loading"===b&&a(y.searchViewAll).css("display","none"),"has_results"===b&&a(y.searchViewAll).css("display","block")}function i(){h(w.LOADING,null)}function j(a){if(A--,!a)return void(0===A&&h(a.error?w.ERROR:w.NO_RESULTS,null));var c=e(a);b(s,c),h(w.HAS_RESULTS,c)}function k(){0===--A&&h(w.SLOW,null)}function l(b){i();var c=RottenTomatoes.link.napiSearchAllCategories(),d={limit:5,query:b};A++,a.ajax({url:c,data:d,timeout:u,xhrFields:{withCredentials:!0},success:j,error:k})}function m(){s=q.value.replace(x.FORBIDDEN_CHARS," ").replace(x.END_SPACES,"").replace(x.MULTIPLE_SPACES," ");var a=c(s);return s.length<t?d():a?h(w.HAS_RESULTS,a):void l(s)}function n(a){13===a.keyCode&&(a.preventDefault(),a.target.value&&""!==a.target.value&&(window.location=window.location.origin+RottenTomatoes.link.webSearchResults()+"?search="+encodeURIComponent(a.target.value)))}function o(b){if(b.preventDefault(),!a(y.desktopSearchTerm).val()||""===a(y.desktopSearchTerm).val())return!1;window.location=window.location.origin+RottenTomatoes.link.webSearchResults()+"?search="+a(y.desktopSearchTerm).val()}function p(b,c){q=b,r=c,q.addEventListener("input",RottenTomatoes.util.debounce(v,q,{},m)),q.addEventListener("fd.clearable.clear",m),q.addEventListener("keypress",n),a(y.desktopSearchButton).on("click",o)}var q,r,s,t=1,u=11e3,v=500,w={ERROR:"error",HAS_RESULTS:"has_results",LOADING:"loading",NO_RESULTS:"no_results",SLOW:"slow"},x={END_SPACES:/^\s+|\s+$/g,MULTIPLE_SPACES:/\s+/g,FORBIDDEN_CHARS:/[?=\/\\]/g},y={desktopSearchButton:".searchBtn.what",desktopSearchTerm:"#search-term",mobileSearchTerm:"#mobile-search-term",searchLoading:".FullscreenSearch__loading-results",searchViewAll:".FullscreenSearch__results-view-all"},z={},A=0;RottenTomatoes.searchAutocomplete={init:p}}(jQuery),function(){function a(){"Krux"in window&&Krux("admEvent","Jeq4dSBI",{})}function b(a){window._satellite&&a&&window._satellite.track(a)}RottenTomatoes.tracking=Object.assign({},RottenTomatoes.tracking||{},{trackMovieTicketsAffiliateEvent:a,satelliteTrack:b})}(),function(){function a(a,b){var c=a.getBoundingClientRect();return c.bottom<=document.documentElement.clientHeight+b&&c.right<=document.documentElement.clientWidth+b}function b(a,b,c,d){if(!a||!Number(a))return null;var e;return function(){var f=this,g=arguments;clearTimeout(e),e=setTimeout(function(){d.apply(f,[b,c,g])},a)}}function c(a){if(!a)return null;var b=parseFloat(a);return isNaN(b)?null:b.toFixed(2)}function d(){var a={SEARCH_LOCATION:"searchlocation",ZIP:"zip",AKAMAI_LOCATION:"akamai_generated_location"},b=RottenTomatoes.cookie.get(a.ZIP),d=RottenTomatoes.cookie.get(a.SEARCH_LOCATION),e=RottenTomatoes.cookie.get(a.AKAMAI_LOCATION),f={};if(b||d||!e||(e=JSON.parse(e),f.zip="string"==typeof e.zip?e.zip.substr(0,5):"",f.lat=c(e.lat),f.long=c(e.long)),b&&(f.zip="undefined"!==b?b:""),d){d.split("&").forEach(function(a){var b=a.split("="),d=b[1];"lat"!==b[0]&&"long"!==b[0]||(d=c(d)),null!==d&&(f[b[0]]=d)}),f.name=decodeURIComponent(f.name).replace(/\+/g," ")}return f}function e(a){return a.filter(function(b,c){return a.indexOf(b)>=c})}function f(a){function b(a,d){if(f=a.querySelectorAll("["+d.dataAttr+"]"),0===f.length)return a.removeEventListener("scroll",c||b,!1),void window.removeEventListener("scroll",c||b,!1);Array.prototype.forEach.call(f,function(a){function b(){a.style.backgroundImage="url("+a.getAttribute(d.dataAttr)+")",a.removeAttribute(d.dataAttr)}d.useViewport?RottenTomatoes.util.isWithinViewport(a,d.viewPortOffset)&&b():b()})}var c,d={container:a&&a.container||"fd-lazyload-container",dataAttr:a&&a.dataAttr||"data-fd-lazyload-image",viewPortOffset:a&&a.viewPortOffset||20,debounce:a&&a.debounce||100,useViewport:!0},e=document.getElementById(d.container),f=[];e&&(c=RottenTomatoes.util.debounce(d.debounce,e,d,b),function(){e.addEventListener("scroll",c||b,!1),window.addEventListener("scroll",c||b,!1),b(e,d)}())}function g(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(a){return!1}}function h(){var a=$(this);a.prev().addClass("unclamp"),a.remove()}function i(a,b,c){var d=$(b);if(!(d.prop("scrollHeight")<=d.height())){if(d.data("clamp")){if(!c)return;return c.buttonClass&&$(k.CLAMP_TOGGLE).addClass(c.buttonClass),void(c.buttonText&&$(k.CLAMP_TOGGLE).html(c.buttonText))}c=c||{};var e=$('<div class="clamp-toggle-container"></div>'),f=$('<a class="js-clamp-toggle '+(c.buttonClass||"")+'">'+(c.buttonText||"More")+"</a>");e.prepend(f),e.on("click",h),d.attr("data-clamp",!0),d.after(e)}}function j(a){$(k.CLAMPS).each(function(b,c){i(b,c,a)})}var k={CLAMPS:".js-clamp",CLAMP_TOGGLE:".js-clamp-toggle"};j(),RottenTomatoes.util={arrayUnique:e,isWithinViewport:a,debounce:b,getLocation:d,lazyLoad:f,isLocalStorageAvailable:g,setPrecision:c,clamp:j}}(),function(){function a(){var a=RottenTomatoes.sanitizer.text(window.location&&window.location.search||window.location.hash||null),b=[],c={};return a?(b=a.substring(1).split("&"),b.forEach(function(a){var b=[];b=a.split("="),c[b[0]]=decodeURIComponent(b[1])}),c):c}function b(b){var c=a();return c&&c[b]?c[b]:null}function c(a,b){return a.replace(new RegExp("[?&]"+b+"=[^&#]*(#.*)?$"),"$1").replace(new RegExp("([?&])"+b+"=[^&]*&"),"$1")}function d(a){if(!RottenTomatoes.sanitizer.isPlainObject(a))return"";var b=[];for(var c in a)hasOwnProperty.call(a,c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.length?b.join("&"):""}function e(a,b){if("string"!=typeof a)return a;var c=d(b);return c?a+(a.indexOf("?")<0?"?":"&")+c:a}function f(a,b,c){var d=new RegExp("([?&])"+b+"=.*?(&|$)","i"),e=-1!==a.indexOf("?")?"&":"?";return a.match(d)?a.replace(d,"$1"+b+"="+c+"$2"):a+e+b+"="+c}RottenTomatoes.queryTool={addQueryParams:e,getQueriesFromUrl:a,getQuery:b,removeParameterFromUrl:c,replaceParameter:f}}(),function(){function a(){return RottenTomatoes.xhr.ajax({method:"POST",url:RottenTomatoes.link.napiAccountVerifyToken(),timeout:m,dataType:"json"})}function b(a){return RottenTomatoes.xhr.ajax({method:"POST",url:RottenTomatoes.link.napiAccountLogin(),timeout:m,data:{username:a&&a.email||"",password:a&&a.password||""},dataType:"json"})}function c(){return RottenTomatoes.xhr.ajax({method:"POST",url:RottenTomatoes.link.napiAccountLogout(),timeout:m,dataType:"json"})}function d(a){return RottenTomatoes.xhr.ajax({method:"POST",url:RottenTomatoes.link.napiAccountRegister(),timeout:m,data:{username:a&&a.email||"",password:a&&a.password||"",firstname:a&&a.firstName||"",lastname:a&&a.lastName||""},dataType:"json"})}function e(a){return RottenTomatoes.xhr.ajax({method:"POST",url:RottenTomatoes.link.napiAccountForgotPassword(),timeout:m,data:{username:a&&a.email||""},dataType:"json"})}function f(a){RottenTomatoes.thirdParty&&RottenTomatoes.thirdParty.facebook&&(l.appId=RottenTomatoes.thirdParty.facebook.appId||326803741017,l.version=RottenTomatoes.thirdParty.facebook.version,window.fbAsyncInit=function(){window.FB.init(l),window.FB.getLoginStatus(function(b){a(b)})},$("body").append($("<script />",{id:n.ID,src:n.FILE})))}function g(a){return RottenTomatoes.xhr.ajax({method:"POST",url:RottenTomatoes.link.napiAccountLoginFacebookOauth(),timeout:m,data:{fbId:a.userID||"",fbAccessToken:a.accessToken||"",fbTokenExpires:a.expiresIn||"",fbSignedRequest:a.signedRequest||""},dataType:"json"})}function h(a){var b=null;window.FB.api("/me",function(c){var d;if(!c&&!c.name)return a(b);d=c.name.split(" "),b={firstName:d[0],lastName:d[1]},a(b)})}function i(a){window.FB.api("/me/permissions",function(b){a(b)})}function j(){return $.ajax({type:"GET",url:RottenTomatoes.link.napiUserEmailConfirmation(),timeout:m,dataType:"json"})}function k(){return $.ajax({type:"GET",url:RottenTomatoes.link.napiUserEmailStatus(),timeout:m,dataType:"json"})}var l={appId:"",version:"",status:!0,cookie:!0,xfbml:!0},m=1e4,n={ID:"facebook-jssdk",FILE:"//connect.facebook.net/en_US/sdk.js"};RottenTomatoes.auth={verifyToken:a,login:b,logout:c,register:d,forgotPassword:e,initFackbookOauth:f,loginFacebookOauth:g,getFbUser:h,getFbPermission:i,emailConfirmation:j,emailStatus:k}}(),function(){function a(){s.addEventListener("click",c),document.addEventListener("click",g)}function b(){s.removeEventListener("click",c),document.removeEventListener("click",g)}function c(a){a.stopPropagation()}function d(a,b){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var c=a.map(function(a){return{type:"topMovie",url:window.location.origin+a.url,image:a.posterUrl||r,line1:a.title,line2:(a.actors||[]).slice(0,2).map(function(a){return a.name}).join(", "),yearLine:a.year?"("+a.year+")":null}});return b?b(c):c.length>q?c.slice(0,q):c}function e(a){var b=RottenTomatoes.link.napiSearchTopMoviesDefaultList();$.ajax({url:b,data:{},timeout:p,xhrFields:{withCredentials:!0},success:function(b){a(b)}})}function f(){a(),B?(B=!1,e(function(a){var b=d(a),c=nunjucks.render("_fullscreenSearchResults",{results:b,source:"suggested"});t.innerHTML=c,o=c})):t.style.display="block"}function g(){t.style.display="none",b()}function h(){v.style.display="none"}function i(){u.value="",w.innerHTML=""}function j(){$(u).val()&&""!==$(u).val()&&(window.location=window.location.origin+RottenTomatoes.link.webSearchResults()+"?search="+encodeURIComponent(u.value))}function k(){RottenTomatoes.searchAutocomplete.init(u,w),e(function(a){var b=d(a),c=nunjucks.render("_fullscreenSearchResults",{results:b,source:"suggested"});w.innerHTML=c,o=c}),w.style.display="block",v.style.display="block"}function l(a){$(a).html(o)}function m(){""===s.value&&l(t)}function n(){""===u.value&&l(w)}var o,p=11e3,q=8,r="/images/poster_default.gif",s=document.getElementById("search-term"),t=document.getElementsByClassName("FullscreenSearch__results-container")[0],u=document.getElementById("mobile-search-term"),v=document.getElementById("fullscreen-search-root"),w=document.getElementById("fullscreen-search-root").getElementsByClassName("FullscreenSearch__results-container")[0],x=document.getElementById("mobile-search-button"),y=document.getElementsByClassName("FullscreenSearch__close-btn")[0],z=document.getElementsByClassName("FullscreenSearch__clear-search-query-btn")[0],A=document.getElementsByClassName("FullscreenSearch__search-btn")[0],B=!0;!function(){x&&x.addEventListener("click",k),y&&y.addEventListener("click",h),z&&z.addEventListener("click",i),A&&A.addEventListener("click",j),RottenTomatoes.searchAutocomplete.init(s,t),s.addEventListener("focus",f),s.addEventListener("keyup",m),u.addEventListener("keyup",n)}()}(),function(){function a(a,b,c){var d;if(a&&a.length){if(!1===c)return void a.html("");d='<div class="alert alert-danger fade in"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>'+b||K.DEFAULT_ERROR+"</div>",a.html(d)}}function b(b){var c=b&&b.currentTarget&&$(b.currentTarget);a(c.find(I.FORM_FEEDBACK),null,!1),c.find(I.FORM_GROUPS).each(function(a,b){$(b).removeClass("has-error"),$(b).find(I.FORM_MESSAGE).html(""),$(b).find("input").val("")})}function c(a){a.preventDefault(),RottenTomatoes.auth.logout().done(function(){x.html(B),RottenTomatoes.dtmData.customerId=null}),C===G.FACEBOOK_OAUTH&&window.FB.logout(),RottenTomatoes.eventQ.emit(E.AUTH.LOGOUT,{})}function d(a){if(a){var b=nunjucks.render("_headerLoginUser",{userInfo:a});$(I.AUTH_SECTION).html(b),$(I.AUTH_LOGOUT_BTN).click(c),RottenTomatoes.eventQ.emit(E.AUTH.LOGIN,a),$(I.AUTH_SECTION).html(b),$(I.AUTH_LOGOUT_BTN).click(c)}}function e(a){var b;if(a)for(b in a){var c=a[b];c.removeClass("has-error"),c.find(I.FORM_MESSAGE).html("")}}function f(a){var b,c={},d=!0;if(!a)return null;e(a);for(b in a){var f,g=a[b],h=g.find("input");g.length&&h.length&&(f=h.val(),f?(b!==J.EMAIL||L[J.EMAIL].test(f))&&(b!==J.PASSWORD||L[J.PASSWORD].test(f))?c[b]=f:(g.addClass("has-error"),g.find(I.FORM_MESSAGE).html(K[b].INVAILD),d=!1):(g.addClass("has-error"),g.find(I.FORM_MESSAGE).html(K[b].REQUIRED),d=!1))}return d?c:null}function g(b){if(b&&b.errorMessage)return $(I.FORGOT_PASSWORD_EMAIL).find("input").val(""),void a(A,b.errorMessage);$(I.FORGOT_PASSWORD_MESSAGE).html("Check your email for a link to reset your password. <br> NOTE: If you do not get the new password email in your inbox, check your Bulk Mail or Spam folder."),$(I.FORGOT_PASSWORD_BTN).replaceWith('<a class="loginModal btn btn-primary" data-dismiss="modal" data-toggle="modal" data-target="#login">Log in</a>'),$(I.FORGOT_PASSWORD_FEEDBACK_CONTAINER).remove(),$(I.FORGOT_PASSWORD_EMAIL).remove()}function h(b){if(b&&b.errorMessage)return $(I.SIGNUP_PASSWORD).find("input").val(""),void a(z,b.errorMessage);d(b),$(I.SIGNUP_MODAL).modal("hide")}function i(b){if(b&&b.errorMessage)return $(I.AUTH_PASSWORD).find("input").val(""),void a(y,b.errorMessage);RottenTomatoes.dtmData.customerId=b?b.flixsterId:"";var c=new RegExp("^(?:[a-z]+:)?//","i"),e=RottenTomatoes.context.returnUrl;e&&!c.test(e)?window.location.replace(e):(d(b),$(I.AUTH_MODAL).modal("hide"))}function j(a){if(13===a.which)return $(a.currentTarget).find(I.SUBMIT_BTN).click(),!1}function k(){var b=f({email:$(I.FORGOT_PASSWORD_EMAIL)});return!!b&&(RottenTomatoes.auth.forgotPassword(b).done(g).fail(function(){a(A,K.DEFAULT_ERROR)}),!1)}function l(){var b=f({firstName:$(I.SIGNUP_FIRSTNAME),lastName:$(I.SIGNUP_LASTNAME),email:$(I.SIGNUP_EMAIL),password:$(I.SIGNUP_PASSWORD)});return b?(RottenTomatoes.auth.register(b).done(h).fail(function(){a(z,K.DEFAULT_ERROR)}),!1):($(I.SIGNUP_PASSWORD).find("input").val(""),!1)}function m(){var b=f({email:$(I.AUTH_EMAIL),password:$(I.AUTH_PASSWORD)});return b?(RottenTomatoes.auth.login(b).done(i).fail(function(){a(y,K.DEFAULT_ERROR)}),!1):($(I.AUTH_PASSWORD).find("input").val(""),!1)}function n(a){if(a&&a.error)return void x.html(B);RottenTomatoes.dtmData.customerId=a?a.flixsterId:"",d(a),x.show()}function o(a){RottenTomatoes.auth.getFbUser(function(b){RottenTomatoes.auth.loginFacebookOauth(a.authResponse).done(function(a){if(a&&a.error)return void x.html(B);a.firstName=b&&b.firstName||"",a.lastName=b&&b.lastName||"",RottenTomatoes.dtmData.customerId=a.flixsterId,d(a),x.show(),$(".modal.in").modal("hide")}).fail(function(){x.html(B)})})}function p(){return window.FB.login(function(a){a&&"connected"===a.status&&a.authResponse&&o(a)},{scope:"email,user_friends,publish_pages,manage_pages"}),!1}function q(){x.html("Loading..."),RottenTomatoes.auth.verifyToken().done(n).fail(function(){x.html(B)})}function r(){window.grecaptcha.render(I.RECAPTCHA_BLOCK,{sitekey:H.SITEKEY,theme:H.THEME,callback:function(a){a&&($(I.SIGNUP_BTN).removeClass("disabled"),$(I.SIGNUP_BTN).click(l))}})}function s(){$(I.MOBILE_NAV_BODY).toggleClass("menu-opened"),$("body").toggleClass("noscroll"),$(I.MOBILE_NAV).hasClass("menu-opened")?$(I.MENU_BTN).css("color","#fcec34"):$(I.MENU_BTN).css("color","white")}function t(){D||($.getScript(M).fail(function(a,b,c){D=!1}),D=!0),$(I.MOBILE_NAV_BODY).removeClass("menu-opened"),$("body").removeClass("noscroll")}function u(a){(a||a.profileUrl)&&$(I.MOBILE_NAV_MENU_ACCOUNT).removeClass("hide").find("a").attr("href",a.profileUrl)}function v(){$(I.MOBILE_NAV_MENU_ACCOUNT).addClass("hide").find("a").attr("href","#")}function w(){var a=!(!RottenTomatoes.cookie.getCookie(F.AUTH_TOKEN)||!RottenTomatoes.cookie.getCookie(F.AUTH_USER));C=RottenTomatoes.cookie.getCookie(F.LOGIN_PLATFORM)||null,x=$(I.AUTH_SECTION),B=x.html(),a&&C===G.ROTTEN_TOMATOES&&q(),RottenTomatoes.auth.initFackbookOauth(function(b){b&&"connected"===b.status&&b.authResponse&&a&&C===G.FACEBOOK_OAUTH&&(x.html("Loading..."),o(b))}),window.onRecaptchaCallback=r,window.BK.SiteSection||(window.BK.SiteSection=RottenTomatoes.context.gptSite||""),y=$(I.AUTH_FEEDBACK_CONTAINER),z=$(I.SIGNUP_FEEDBACK_CONTAINER),A=$(I.FORGOT_PASSWORD_FEEDBACK_CONTAINER),$(I.AUTH_LOGIN_BTN).click(m),$(I.AUTH_MODAL).keypress(j),$(I.AUTH_MODAL).on("show.bs.modal",t),$(I.AUTH_MODAL).on("hide.bs.modal",b),$(I.SIGNUP_MODAL).keypress(j),$(I.SIGNUP_MODAL).on("show.bs.modal",t),$(I.SIGNUP_MODAL).on("hide.bs.modal",b),$(I.FORGOT_PASSWORD_BTN).click(k),$(I.FORGOT_PASSWORD_MODAL).keypress(j),$(I.FORGOT_PASSWORD_MODAL).on("hide.bs.modal",b),$(I.FACEBOOK_LOGIN_BTN).add(I.FACEBOOK_SIGNUP_BTN).click(p),$(I.MOBILE_NAV_MORE_BTN).on("touch click",s),RottenTomatoes.eventQ.register(E.AUTH.LOGIN,u),RottenTomatoes.eventQ.register(E.AUTH.LOGOUT,v),RottenTomatoes.context.openLoginModal&&!0===RottenTomatoes.context.openLoginModal&&$(I.AUTH_MODAL).modal()}var x,y,z,A,B,C,D,E={AUTH:{LOGIN:"userLoggedIn",LOGOUT:"userLoggedOut"}},F={AUTH_TOKEN:"auth_token",AUTH_USER:"auth_user",LOGIN_PLATFORM:"loginPlatform"},G={ROTTEN_TOMATOES:"RTO",FACEBOOK_OAUTH:"FBK"},H={SITEKEY:RottenTomatoes.thirdParty&&RottenTomatoes.thirdParty.googleReCaptcha||"",THEME:"light"},I={FORM_GROUPS:".form-group",FORM_MESSAGE:".help-block",FORM_FEEDBACK:".js-header__feedback",SUBMIT_BTN:".js-header__submit",AUTH_MODAL:"#login",AUTH_SECTION:".js-header-auth__user-section",AUTH_EMAIL:".js-header-auth__email",AUTH_PASSWORD:".js-header-auth__password",AUTH_LOGIN_BTN:".js-header-auth__login-btn",AUTH_LOGOUT_BTN:".js-header-auth__logout-btn",AUTH_FEEDBACK_CONTAINER:".js-header-auth__error",SIGNUP_MODAL:"#signup",SIGNUP_FIRSTNAME:".js-header-signup__firstname",SIGNUP_LASTNAME:".js-header-signup__lastname",SIGNUP_EMAIL:".js-header-signup__email",SIGNUP_PASSWORD:".js-header-signup__password",SIGNUP_BTN:".js-header-signup__signup-btn",SIGNUP_FEEDBACK_CONTAINER:".js-header-signup__feedback",SIGNUP_FEEDBACK_MESSAGE:".js-header-signup__feedback-message",FORGOT_PASSWORD_MODAL:"#forgot-password",FORGOT_PASSWORD_MESSAGE:".js-header-forgot-password__message",FORGOT_PASSWORD_BTN:".js-header-forgot-password__submit-btn",FORGOT_PASSWORD_EMAIL:".js-header-forgot-password__email",FORGOT_PASSWORD_FEEDBACK_CONTAINER:".js-header-forgot-password__feedback",FACEBOOK_LOGIN_BTN:"#fbLoginButton",FACEBOOK_SIGNUP_BTN:"#fbSignUpButton",RECAPTCHA_BLOCK:"recaptchaSignupBlock",MENU_BTN:"#menu-btn",MOBILE_NAV:"#mobile-nav",MOBILE_NAV_BODY:".js-mobile-nav__body",MOBILE_NAV_MORE_BTN:".js-mobile-nav__more-btn",MOBILE_NAV_MENU_ACCOUNT:".js-mobile-nav__menu-my-account"},J={FIRSTNAME:"firstName",LASTNAME:"lastName",EMAIL:"email",PASSWORD:"password"},K={firstName:{REQUIRED:"Please enter your first name."},lastName:{REQUIRED:"Please enter your last name."},email:{REQUIRED:"Please enter an username.",INVAILD:"Invalid username"},password:{REQUIRED:"Please enter a password.",INVAILD:"The password must be at least 4 characters."},AUTH_FAIL:"The username or password is incorrect.",DEFAULT_ERROR:"Please try again later."},L={email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/(?=.{4,})/},M="//www.google.com/recaptcha/api.js?onload=onRecaptchaCallback&render=explicit";$(document).ready(w),RottenTomatoes.header={EVENT_NAMES:E}}();var _sf_async_config={};_sf_async_config.uid=RottenTomatoes.thirdParty.chartBeat.auth,_sf_async_config.domain=RottenTomatoes.thirdParty.chartBeat.domain,_sf_async_config.useCanonical=!0,_sf_async_config.sections=RottenTomatoes.context.gptSite,_sf_async_config.authors="rt-staff",function(){function a(){window._sf_endpt=(new Date).getTime();var a=document.createElement("script");a.setAttribute("language","javascript"),a.setAttribute("type","text/javascript"),a.setAttribute("src","//static.chartbeat.com/js/chartbeat.js"),document.body.appendChild(a)}var b=window.onload;window.onload="function"!=typeof window.onload?a:function(){b(),a()}}(),function(){function a(a,b,c,d){this.name=a||"",this.shareIt=b||function(){},this.utmSource=c||"",this.targetUrl=d||"",this.utmCampaign="sharelinks"}function b(){var a=window.screenLeft?window.screenLeft:window.screenX,b=window.screenTop?window.screenTop:window.screenY;return $.param({status:0,location:0,menubar:0,width:k.WIDTH,height:k.HEIGHT,left:a+window.innerWidth/2-k.WIDTH/2,top:b+window.innerHeight/2-k.HEIGHT/2}).split("&").join(",")}function c(){window.FB.ui({method:"feed",link:this.getDefaultShareUrl()},function(){})}function d(a,b,c){c.location=a+"?"+$.param({url:b,via:"RottenTomatoes"}),c.focus()}function e(){var a=this;this.popupWindow=window.open("","_blank",b()),$.ajax(n).done(function(b){d(a.targetUrl,a.getDefaultShareUrl(b&&b.data&&b.data.url||m),a.popupWindow)}).fail(function(){d(a.targetUrl,a.getDefaultShareUrl(m),a.popupWindow)})}function f(){window.open(this.targetUrl+"?"+$.param({url:this.getDefaultShareUrl(),media:$(i.PINTEREST_IMAGE).attr("src")||"",description:document.title||""}),"_blank",b())}function g(){window.open(this.targetUrl+"?"+$.param({url:this.getDefaultShareUrl()}),"_blank",b())}function h(a){a.preventDefault();var b=$(a.currentTarget).data(j.NETWORK_NAME),c=l[b];c&&c.shareIt(a)}var i={WRAPPER:"#social-tools",SOCIAL_BTNS:".js-social-tools-btn",PINTEREST_IMAGE:".pinterestImage",FACEBOOK_LIKE_BTN:"#social-tools-like-btn"},j={NETWORK_NAME:"name"},k={WIDTH:575,HEIGHT:450},l={},m=document.URL,n={url:"//api.bit.ly/v3/shorten",async:!0,data:{longUrl:m,apiKey:"R_244b3f625ae2e1fbdc77b2bab2607790",login:"flixstertomatoes"},dataType:"jsonp"};a.prototype.getDefaultShareUrl=function(a){return(a||m)+"?"+$.param({utm_campaign:this.utmCampaign,utm_source:this.utmSource||""})},function(){[{name:"facebookShare",shareIt:c,utmSource:"fbk",targetUrl:null},{name:"twitter",shareIt:e,utmSource:"twtr",targetUrl:"https://twitter.com/share"},{name:"pinterest",shareIt:f,utmSource:"pin",targetUrl:"https://pinterest.com/pin/create/link/"},{name:"stumbleUpon",shareIt:g,utmSource:"stumble",targetUrl:"https://www.stumbleupon.com/submit/"}].forEach(function(b){l[b.name]=new a(b.name,b.shareIt,b.utmSource,b.targetUrl)}),$(i.WRAPPER).find(i.SOCIAL_BTNS).on("click",h)}()}(),function(){function a(){return $(window).width()<=768}function b(b){if(b){var c=b.split(","),d=c[0],e=c[1];return a()?d:e}}function c(a){var b=$(a).attr("style")||"";b.includes(l.FADE_IN_STYLE)||$(a).attr("style",b+" "+l.FADE_IN_STYLE)}function d(a){var b=$(a).attr("style")||"";if(b.includes(l.FADE_IN_STYLE)){var c=b.replace(" "+l.FADE_IN_STYLE,"");$(a).attr("style",c)}}function e(a){var e=$(a);if(e&&!e.attr("data-revealed")){var f=e.data("bg-image"),g=e.data("bg-srcset"),h=e.data("src")||b(g);if(e.data("srcset"))e.attr("srcset",e.data("srcset"));else if(f){var i=e.attr("style")||"";e.removeAttr("data-src").attr("style",i+" background-image: url("+h+");")}else e.attr("src",h);e.attr("data-revealed",!0),c(a)}else e.attr("data-revealed")&&d(a)}function f(){return a()?2*n:m.height()+m.height()/2}function g(a){var b=$(window).scrollTop(),c=b+f(),d=$(a).offset().top;return d+$(a).height()<=c&&d>=b}function h(){return $(l.MAIN_BODY_IMAGES)}function i(){h().each(function(a,b){g(b)&&e(b)})}function j(){var a=l.MENU_HEADER+", "+l.MASTHEAD_MENU_HEADER;$(a).on("mouseover",function(){$(this).find(l.LAZY_LOAD).each(function(a,b){e(b)})})}function k(){i(),$(l.MAIN_BODY_IMAGES).length===$(l.REVEALED).length&&($(window).off("scroll",k),$(window).off("resize",i))}var l={ACTIVE_SLIDE:".slide .active",LAZY_LOAD:".js-lazyLoad",MAIN_BODY_IMAGES:"#main_container .js-lazyLoad:not(.slide):not([data-revealed])",MENU_HEADER:"#menu .menuHeader",MASTHEAD_MENU_HEADER:".js-masthead-menu-header",REVEALED:".js-lazyLoad[data-revealed]",SLIDE:".slide",WINDOW:window,FADE_IN_STYLE:"-webkit-animation: overlay-fade 1s 1; -o-animation: overlay-fade 1s 1; animation: overlay-fade 1s 1;"},m=$(l.WINDOW),n=m.height();$(document).ready(function(){j(),i()}),m.scroll($.throttle(300,k)),m.resize($.throttle(300,i)),RottenTomatoes.lazyLoad={revealImage:e}}(),function(){try{if("undefined"!=typeof BK){
var a=BK.PageName||"",b=BK.SiteSection||"",c=BK.FlixsterUID||"",d=BK.MovieId||"",e=BK.MovieTitle||"",f=BK.MovieGenres||"",g=BK.TalentId||"",h=BK.TalentName||"",i=BK.TvSeriesId||"",j=BK.TvSeriesTitle||"",k=BK.TvSeasonId||"",l=BK.TvSeasonTitle||"",m=BK.TvEpisodeId||"",n=BK.TvEpisodeTitle||"",o=BK.ArticleTags||"",p=BK.RelatedMovieId||"",q=BK.RelatedTalentId||"",r=BK.RelatedTVSeriesId||"";bk_addPageCtx("FlxPgNm",a),bk_addPageCtx("FlxSiteSec",b),bk_addPageCtx("FlxUID",c),bk_addPageCtx("FlxMvId",d),bk_addPageCtx("FlxMvTitle",e),bk_addPageCtx("FlxMvGenre",f),bk_addPageCtx("FlxTlntId",g),bk_addPageCtx("FlxTlntName",h),bk_addPageCtx("FlxTvSrsId",i),bk_addPageCtx("FlxTvSrsTitle",j),bk_addPageCtx("FlxTvSeasnId",k),bk_addPageCtx("FlxTvSeasnTitle",l),bk_addPageCtx("FlxTvEpId",m),bk_addPageCtx("FlxTvEpTitle",n),bk_addPageCtx("FlxArtTag",o),bk_addPageCtx("FlxRltdMvId",p),bk_addPageCtx("FlxRltdTlntId",q),bk_addPageCtx("FlxRltdTvSrsId",r)}}catch(a){}bk_addPageCtx("TW_OU","WB"),bk_addPageCtx("Seat","US"),bk_addPageCtx("TagType","ResponsiveWeb"),bk_addPageCtx("TagVersion","1"),bk_addPageCtx("Asset","RottenTomatoes"),bk_doJSTag(37528,10)}();